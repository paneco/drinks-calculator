function l(a,c){(a=document.getElementById(a))&&a.querySelectorAll("input[data-parent-id]").forEach(function(b){var d=document.getElementById(b.id).checked;(c[b.id+"-is-required"]=d)&&c.count++},"thisArg")}
function m(a,c,b,d,g){var k={},h=0;0<b&&(b=(b=document.getElementById(a))?b.querySelectorAll("output"):null)&&b.forEach(function(e){var f=e.getAttribute("for");c[f+"-is-required"]?(f=c[f+"-is-required"]?Math.ceil(d/c.count):0,k[e.id]=f,h+=f):k[e.id]=0},"thisArg");b=0==h?d:h;k[a+"-total"]=`${b} ${1==b?g.h:g.g}`;return k}function q(a,c,b){0>b&&(a.value=parseInt(a.value,10)+b);c.value=a.value}function r(a){return t.filter(function(c){return c!=a})}
function u(a){return a.reduce(function(c,b){var d=document.getElementById(b);b=(b=document.getElementById(b+"-is-locked"))?b.checked:!1;return c+(d&&!b?parseInt(d.value,10):0)},0)}function v(a,c){var b=100-a;c.forEach(d=>{var g=document.getElementById(d);b-=document.getElementById(d+"-is-locked").checked?g.value:0});return b}function w(a){return a.reduce(function(c,b){return c+(document.getElementById(b+"-is-locked").checked?0:1)},0)}
function x(a){for(let [c,b]of Object.entries(a))a=document.getElementById(c),a.value=b,0<b&&"DD"==a.parentNode.nodeName&&(a.parentNode.style.display="block")}const y={h:"Bottle",g:"Bottles"},z={h:"Case",g:"Cases"},A={h:"Bottle",g:"Bottles"},B={h:"Bottle",g:"Bottles"},t=["dc-spirits-range","dc-beer-range","dc-wine-range","dc-champagne-range"];
function C(a,c,b,d,g,k,h,e,f){b=document.getElementById(b)?parseInt(document.getElementById(b).value,10)/100:0;a=Math.ceil((0>=a||0>=c?0:k*h*a*c)/e*b);c={count:0};l(d,c);return m(g,c,b,a,f)}
window.setPreferences=function(a,c){var b=document.getElementById(a);a=r(a);var d=v(b.valueAsNumber,a),g=u(a);q(b,c,d);var k=w(a);a.forEach(h=>{var e=document.getElementById(h),f=document.getElementById(h+"-is-locked").checked,n=e.value,p;f?p=n:p=0<d&&0==n?d/k:0==g?0:n/g*d;e.value=p;f||(e=parseInt(e.value,10),d&&0>d&&(e+=d),document.getElementById(h+"-output").value=0>e?0:e)})};
window.calculateDrinks=function(){var a=document.getElementById("dc-guests").valueAsNumber,c=parseInt(document.getElementById("dc-duration-hours").value,10)+parseInt(document.getElementById("dc-duration-minutes").value,10)/60;document.getElementById("dc-calculated-results-duration").value=c;var b=C(a,c,"dc-wine-range","dc-wine-types","dc-wine-results",150,1.2,750,y);x(b);b=C(a,c,"dc-spirits-range","dc-spirits-types","dc-spirits-results",30,1.2,750,A);x(b);b=C(a,c,"dc-champagne-range","dc-champagne-types",
"dc-champagne-results",135,1.3,750,B);x(b);b=C(a,c,"dc-beer-range","dc-beer-types","dc-beer-results",330,1.6,7920,z);x(b);a=document.getElementById("dc-calculated-results");a.style.display="block";a.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"});return!1};window.toggleLockedRange=function(a,c){document.getElementById(c).disabled=a.checked?!0:!1};
